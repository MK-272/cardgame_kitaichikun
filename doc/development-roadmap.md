# 開発ロードマップ - カードボックス期待値計算サービス

## 🎯 Phase 1.1 MVP - 10営業日スケジュール

### Day 1-2: 基盤構築
- [ ] Next.jsプロジェクトセットアップ
- [ ] Supabaseプロジェクト作成・接続設定
- [ ] 基本的なフォルダ構造の作成
- [ ] Tailwind CSS v4の設定
- [ ] ESLint/Prettierの設定
- [ ] 環境変数の設定（.env.local）

### Day 3-4: 認証システム
- [ ] Supabase Authの実装
  - [ ] Email/Password認証
  - [ ] Google OAuth
  - [ ] Apple Sign-In
  - [ ] Twitter(X) OAuth
- [ ] ログイン/新規登録画面（G-01）
- [ ] 認証状態の管理（Context/Provider）
- [ ] ロール管理（user/admin）

### Day 5-6: データベース設計・アクセスコード
- [ ] Supabaseテーブル作成
  - [ ] users（拡張）
  - [ ] packs（弾情報）
  - [ ] rarities（レアリティ）
  - [ ] cards（カード情報）
  - [ ] access_codes（アクセスコード）
- [ ] アクセスコード入力画面（G-02）
- [ ] アクセスコード検証ロジック
- [ ] 弾選択画面（G-03）

### Day 7-8: 期待値計算機能
- [ ] 価格入力画面（G-04）
  - [ ] カード一覧テーブル表示
  - [ ] 直接価格入力機能
  - [ ] CSVアップロード機能
  - [ ] 10円自動補完機能
- [ ] 期待値計算ロジック実装
- [ ] 結果表示画面（G-05）
  - [ ] 期待値バー表示
  - [ ] プラス確率グラフ

### Day 9: Admin機能
- [ ] Adminダッシュボード（A-01）
- [ ] 弾管理機能
- [ ] レアリティ管理機能
- [ ] カード管理機能
- [ ] Google Sheets同期画面（A-02）
- [ ] アクセスコード発行画面（A-03）

### Day 10: テスト・デプロイ
- [ ] 統合テスト
- [ ] レスポンシブデザインの確認
- [ ] パフォーマンステスト
- [ ] Vercelへのデプロイ
- [ ] 本番環境での動作確認

## 📊 Phase 1.2 - 拡張機能

### 実装予定機能
- 複数弾対応
- CSV雛形ダウンロード機能
- Google Sheets取り込みボタン
- より詳細な統計情報表示

### 推定期間
- 2週間程度

## 💳 Phase 2.0 - サブスクリプション

### 実装内容
- Stripeアカウント設定
- サブスクリプションプラン実装
  - 月額プラン（980円）
  - 年額プラン（9,800円）
- 支払い管理画面
- 領収書発行機能

### 推定期間
- 3週間程度

## 🎮 Phase 3.x - 高度な機能

### 実装候補
- Monte Carloシミュレーション（Web Worker）
- リアルタイムアニメーション
- 分布ヒストグラム表示
- 他カードゲーム対応（ポケカ、遊戯王）
- PWA化

### 推定期間
- 各機能1-2週間

## 🚨 リスク管理

### 技術的リスク
| リスク | 対策 | 優先度 |
|--------|------|--------|
| Supabase接続問題 | 早期にテスト環境構築 | 高 |
| CSVパース処理 | 複数ライブラリの検証 | 中 |
| パフォーマンス問題 | 初期段階から最適化を意識 | 中 |

### ビジネスリスク
| リスク | 対策 | 優先度 |
|--------|------|--------|
| 著作権問題 | ガイドライン確認・問い合わせ | 高 |
| Stripe審査 | 早期申請 | 高 |
| データ精度 | Admin画面での容易な修正機能 | 中 |

## 📈 成功指標（KPI）

### Phase 1.1
- [ ] 全機能が正常動作
- [ ] レスポンス時間5秒以内
- [ ] モバイルでの使いやすさ
- [ ] Admin画面での簡単なデータ更新

### 将来的な指標
- アクティブユーザー数
- 計算実行回数
- サブスクリプション登録率
- ユーザー満足度

## 🔄 開発プロセス

### 日次タスク
1. 前日の進捗確認（/doc/development-log.md）
2. 当日のタスク選定
3. 実装・テスト
4. 進捗記録
5. 次日への申し送り

### 週次レビュー
- 進捗確認
- 課題の洗い出し
- スケジュール調整
- ステークホルダーへの報告

## 📝 メモ

### 開発時の注意点
- モバイルファーストで開発
- アクセシビリティを考慮
- エラーハンドリングを丁寧に
- ユーザーフィードバックを重視

### 将来的な拡張性
- マルチテナント対応の可能性
- APIの外部公開
- ネイティブアプリ化

---

最終更新日：2025-07-23