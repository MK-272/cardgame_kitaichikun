# Matsuritools - 開発ガイドライン for Claude

## 🎯 プロジェクト概要
デュエル・マスターズのカードボックス開封時の換金期待値を計算するWebサービスの開発プロジェクトです。
ユーザーは買取価格を入力することで「買った方が得か損か」を即座に判断できます。

## 📋 毎回必ず実行すること

### 1. /docフォルダの確認
```bash
ls -la /doc/
```
開発開始時は必ず上記コマンドで/docフォルダ内のドキュメントを確認し、最新の開発状況を把握してください。

### 2. 開発ログの更新
作業内容は必ず `/doc/development-log.md` に記録してください。
- 実施した作業
- 発生したエラーと解決方法
- 次回への申し送り事項

## 🗣️ コミュニケーション指針

### 重要：開発リテラシーが高くない方向けの説明
- **専門用語は避ける**か、使う場合は必ず日本語で分かりやすく説明する
- **具体例を用いて**説明する
- **なぜその作業が必要か**を明確に伝える
- コマンドを実行する前に**何をするコマンドか**を説明する

例：
```
❌ 悪い例：「npm installを実行します」
✅ 良い例：「必要なプログラムをインストールします。このコマンドはpackage.jsonに書かれている依存関係をダウンロードします」
```

## 🚀 開発フェーズ

### Phase 1.1 (MVP) - 10営業日以内
- 対象弾：1弾のみ
- アクセスコード認証
- 期待値計算機能
- Admin画面

## 🛠️ 技術スタック
- **Frontend**: Next.js (App Router) + TypeScript + Tailwind v4
- **Backend**: Supabase (Auth & DB)
- **Hosting**: Vercel
- **Payment**: Stripe (Phase 2.0)

## 📁 プロジェクト構造
```
matsuritools/
├── claude.md          # このファイル
├── README.md         # プロジェクト概要
├── /doc/             # 開発ドキュメント
│   ├── development-log.md      # 開発ログ
│   ├── development-roadmap.md  # ロードマップ
│   ├── architecture.md         # アーキテクチャ詳細
│   └── error-log.md           # エラーログ
├── /src/             # ソースコード
├── /public/          # 静的ファイル
└── package.json      # 依存関係定義
```

## 📝 開発ログの書き方

### development-log.mdの記載例
```markdown
## 2025-07-23 作業ログ

### 実施内容
- Next.jsプロジェクトの初期セットアップ
- Supabaseの接続設定

### 発生したエラー
- エラー内容：Supabase接続エラー
- 原因：環境変数の設定漏れ
- 解決方法：.env.localにSUPABASE_URLとSUPABASE_ANON_KEYを追加

### 次回への申し送り
- 認証機能の実装を開始する
- Google OAuth設定が必要
```

## 🔧 環境構築手順

1. **Node.js環境の確認**
   ```bash
   node -v  # v20以上であることを確認
   ```

2. **プロジェクトセットアップ**
   ```bash
   npx create-next-app@latest . --typescript --tailwind --app
   ```

3. **Supabase設定**
   - Supabaseプロジェクトの作成
   - 環境変数の設定

## 🐛 エラー対応

エラーが発生した場合：
1. エラーメッセージを `/doc/error-log.md` に記録
2. 解決方法を探す
3. 解決できない場合は、具体的なエラー内容と試した対処法を含めて質問

## 🚦 Git運用

### コミットメッセージ規則
```
feat: 新機能追加
fix: バグ修正
docs: ドキュメント更新
style: コードスタイル修正
refactor: リファクタリング
test: テスト追加・修正
chore: ビルド設定など
```

### 定期的なプッシュ
- 機能単位でコミット
- 1日の作業終了時は必ずプッシュ
- コミットメッセージは日本語で分かりやすく

## ⚠️ 注意事項

1. **セキュリティ**
   - APIキーや秘密情報は絶対にコミットしない
   - .env.localに記載し、.gitignoreで除外

2. **著作権**
   - カード画像の使用は公式ガイドラインを確認
   - 必要に応じて権利者への問い合わせ

3. **パフォーマンス**
   - モバイルファーストで開発
   - 画像は適切に圧縮

## 📞 連絡事項

開発中に以下の情報が必要になったら確認してください：
- GitHubリポジトリのURL
- Vercelアカウント情報
- Supabaseプロジェクト情報
- Google Sheetsアクセス権限
- Stripe アカウント情報（Phase 2.0）

## 🎯 成功の定義

このプロジェクトの成功は：
1. **ユーザーが簡単に期待値を計算できる**
2. **管理者がデータを簡単に更新できる**
3. **安定して動作する**
4. **セキュアである**

これらを常に意識して開発を進めてください。